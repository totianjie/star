layui.define("layer",function(f){var g=layui.jquery,j=layui.layer,e=layui.hint(),b=layui.device(),l="form",c=".layui-form",n="layui-this",m="layui-show",i="layui-disabled",h=function(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],number:[/^\d+$/,"只能填写数字"],date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]}}};h.prototype.set=function(o){var p=this;g.extend(true,p.config,o);return p};h.prototype.verify=function(o){var p=this;g.extend(true,p.config.verify,o);return p};h.prototype.on=function(o,p){return layui.onevent(l,o,p)};h.prototype.render=function(p){var q=this,o={select:function(){var u="请选择",v="layui-form-select",w="layui-select-title",t=g(c).find("select"),s=function(y,x){if(!g(y.target).parent().hasClass(w)||x){g("."+v).removeClass(v+"ed")}},r=function(y,z){var x=g(this),A=y.find("."+w);if(z){return}A.on("click",function(E){var D=[],C,B;y.hasClass(v+"ed")?y.removeClass(v+"ed"):(s(E,true),y.addClass(v+"ed"),y.find("span").each(function(){D.push(g(this).width())}),C=Math.max.apply(Math,D),B=y.find("dl").width(),C=C>B?C:B-20,y.find("dd").width(C))});y.find("dl>dd").on("click",function(){var D=g(this),C=D.attr("lay-value");var B=x.attr("lay-filter");if(D.hasClass(i)){return false}x.val(C).removeClass("layui-form-danger"),A.find("input").val(D.text());D.addClass(n).siblings().removeClass(n);layui.event(l,"select("+B+")",{elem:x[0],value:C})});y.find("dl>dt").on("click",function(B){return false});g(document).off("click",s).on("click",s)};t.each(function(A,y){var E=g(this),x=E.next("."+v),C=this.disabled;var D=y.value,B=g(y.options[y.selectedIndex]);var z=g(['<div class="layui-unselect '+v+(C?" layui-select-disabled":"")+'">','<div class="'+w+'"><input type="text" placeholder="'+(y.options[0].innerHTML?y.options[0].innerHTML:u)+'" value="'+(D?B.html():"")+'" readonly class="layui-input layui-unselect'+(C?(" "+i):"")+'">','<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(E.find("optgroup")[0]?" layui-select-group":"")+'">'+function(G){var F=[];layui.each(G,function(H,I){if(H===0&&!I.value){return}if(I.tagName.toLowerCase()==="optgroup"){F.push("<dt>"+I.label+"</dt>")}else{F.push('<dd lay-value="'+I.value+'" class="'+(D===I.value?n:"")+(I.disabled?(" "+i):"")+'"><span>'+I.innerHTML+"</span></dd>")}});return F.join("")}(E.find("*"))+"</dl>","</div>"].join(""));x[0]&&x.remove();E.after(z);r.call(this,z,C)})},checkbox:function(){var t={checkbox:["layui-form-checkbox","layui-form-checked","checkbox","layui-anim-scaleSpring"],_switch:["layui-form-switch","layui-form-onswitch","switch"]},r=g(c).find("input[type=checkbox]"),s=function(w,v){var u=g(this);w.on("click",function(){var x=u.attr("lay-filter");if(u[0].disabled){return}u[0].checked?(u[0].checked=false,w.removeClass(v[1]),w.children("i").removeClass(v[3])):(u[0].checked=true,w.addClass(v[1]),w.children("i").addClass(v[3]));layui.event(l,v[2]+"("+x+")",{elem:u[0],value:u[0].value})})};r.each(function(y,w){var A=g(this),B=A.attr("lay-skin"),z=this.disabled;if(B==="switch"){B="_"+B}var v=t[B]||t.checkbox;var u=A.next("."+v[0]);var x=g(['<div class="layui-unselect '+v[0]+(w.checked?(" "+v[1]):"")+(z?" layui-checkbox-disbaled "+i:"")+'">',{_switch:"<i></i>"}[B]||("<span>"+(w.title||"")+'</span><i class="layui-anim"></i>'),"</div>"].join(""));u[0]&&u.remove();A.after(x);s.call(this,x,v)})},radio:function(){var s="layui-form-radio",u=["&#xe643;","&#xe63f;"],t=g(c).find("input[type=radio]"),r=function(w){var x=g(this),v="layui-anim-scaleSpring";w.on("click",function(){var z=x[0].name,y=x.parents(c);var B=x.attr("lay-filter");var A=y.find("input[name="+z.replace(/(\.|#|\[|\])/g,"\\$1")+"]");if(x[0].disabled){return}layui.each(A,function(){var C=g(this).next("."+s);this.checked=false;C.removeClass(s+"ed");C.find(".layui-icon").removeClass(v).html(u[1])});x[0].checked=true;w.addClass(s+"ed");w.find(".layui-icon").addClass(v).html(u[0]);layui.event(l,"radio("+B+")",{elem:x[0],value:x[0].value})})};t.each(function(y,x){var A=g(this),v=A.next("."+s),z=this.disabled;var w=g(['<div class="layui-unselect '+s+(x.checked?(" "+s+"ed"):"")+(z?" layui-radio-disbaled "+i:"")+'">','<i class="layui-anim layui-icon layui-radio-icon">'+u[x.checked?0:1]+"</i>",'<span class="layui-radio-title">'+(x.title||"")+"</span>","</div>"].join(""));v[0]&&v.remove();A.after(w);r.call(this,w)})}};p?(o[p]?o[p]():e.error("不支持的"+p+"表单渲染")):layui.each(o,function(r,s){s()});g(".layui-radio-title").each(function(){if(!g(this).text()){g(this).parent(".layui-form-radio").css({margin:"0",padding:"0",width:"15px",height:"28px"})}});return q};var k=function(){var t=g(this),v=a.config.verify,w=null,u="layui-form-danger",x={},s=t.parents(c),o=s.find("*[lay-verify]"),q=t.parents("form")[0],p=s.find("input,select,textarea"),r=t.attr("lay-filter");layui.each(o,function(B,C){var E=g(this),z=E.attr("lay-verify"),y="";var D=E.val(),A=typeof v[z]==="function";E.removeClass(u);if(v[z]&&(A?y=v[z](D,C):!v[z][0].test(D))){j.msg(y||v[z][1],{icon:5,shift:6});if(!b.android&&!b.ios){C.focus()}E.addClass(u);return w=true}});if(w){return false}layui.each(p,function(y,z){if(!z.name){return}if(/^checkbox|radio$/.test(z.type)&&!z.checked){return}x[z.name]=z.value});return layui.event.call(this,l,"submit("+r+")",{elem:this,form:q,field:x})};var a=new h(),d=g(document);a.render();d.on("reset",c,function(){setTimeout(function(){a.render()},50)});d.on("submit",c,k).on("click","*[lay-submit]",k);f(l,function(o){return a.set(o)})});